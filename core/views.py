# core/views.py
# Импортируем функцию render из модуля django.shortcuts
# render - это "сборщик" который объединяет HTML-шаблон с данными
from django.shortcuts import render


# Создаем функцию-представление для главной страницы
def home(request):
    """
    Представление для главной страницы.
    """
    # Создаем словарь context - это контейнер для данных
    # Все что здесь - передается в HTML-шаблон
    context = {
        # 'title' - ключ, который станет переменной в шаблоне
        # Значение - строка с названием системы
        'title': 'Системa Pomodoro & Матрица Эйзенхауэра',

        # 'subtitle' - подзаголовок, объясняющий суть системы
        'subtitle': 'Синтез стратегического планирования и тактического выполнения',

        # 'features' - список преимуществ системы
        # Каждое преимущество - это словарь с названием и описанием
        'features': [
            {
                'title': 'Интеллектуальное планирование задач',
                'description': 'Матрица Эйзенхауэра помогает определить, какие задачи действительно важны для ваших целей'
            },
            {
                'title': 'Фокус на приоритетах',
                'description': 'Сначала выполняйте важные задачи, а не просто срочные'
            },
            {
                'title': 'Измерение продуктивности',
                'description': 'Трекер Pomodoro показывает, на что вы тратите время и как улучшить эффективность'
            },
            {
                'title': 'Баланс работы и отдыха',
                'description': 'Регулярные перерывы предотвращают выгорание и поддерживают концентрацию'
            }
        ]
    }

    # Функция render выполняет три действия:
    # 1. Берет шаблон 'core/home.html'
    # 2. Заполняет его данными из context
    # 3. Возвращает готовую HTML-страницу браузеру
    return render(request, 'core/home.html', context)


# Функция-представление для страницы "О проекте"
def about(request):
    """Представление для страницы 'О проекте'"""

    # Создаем контекст для страницы "О проекте"
    context = {
        # Заголовок страницы
        'title': 'О проекте',

        # Миссия проекта - основная цель
        'mission': 'Помогаю людям стать более продуктивными через осознанное планирование и фокус.'
    }

    # Возвращаем собранную страницу "О проекте"
    return render(request, 'core/about.html', context)


# Функция-представление для обучения матрице Эйзенхауэра
def eisenhower_method(request):
    """Представление для страницы обучения матрице Эйзенхауэра"""

    # Более сложный контекст с вложенными структурами
    context = {
        'title': 'Матрица Эйзенхауэра',

        # 'quadrants' - список всех 4 квадрантов матрицы
        'quadrants': [
            {
                # Первый квадрант - важные и срочные задачи
                'name': 'Квадрант 1: Важные и срочные',
                'description': 'Задачи, требующие немедленного внимания',

                # Примеры задач этого квадранта
                'examples': ['Кризисные ситуации', 'Срочные дедлайны', 'Проблемы'],

                # Цвет для визуального выделения (красный - срочность)
                'color': '#FF6B6B',

                # Рекомендуемая стратегия работы
                'strategy': 'Выполнять немедленно'
            },
            {
                # Второй квадрант - важные и несрочные (самый продуктивный)
                'name': 'Квадрант 2: Важные и несрочные',
                'description': 'Стратегические задачи для долгосрочного развития',
                'examples': ['Планирование', 'Обучение', 'Построение отношений'],

                # Зеленый цвет - рост и развитие
                'color': '#4ECDC4',
                'strategy': 'Планировать и выполнять'
            },
            {
                # Третий квадрант - срочные но неважные (отвлекающие)
                'name': 'Квадрант 3: Срочные и неважные',
                'description': 'Отвлекающие факторы, которые кажутся срочными',
                'examples': ['Некоторые звонки', 'Встречи', 'Чужие просьбы'],

                # Синий цвет - нейтральный
                'color': '#45B7D1',
                'strategy': 'Делегировать или минимизировать'
            },
            {
                # Четвертый квадрант - неважные и несрочные (пустая трата времени)
                'name': 'Квадрант 4: Несрочные и неважные',
                'description': 'Пустая трата времени',
                'examples': ['Соцсети', 'Бесполезные разговоры', 'Тривиальные занятия'],

                # Светло-зеленый - минимальное внимание
                'color': '#96CEB4',
                'strategy': 'Исключать или ограничивать'
            }
        ]
    }

    # Возвращаем страницу обучения матрице
    return render(request, 'core/eisenhower_method.html', context)


# Функция-представление для обучения методу Pomodoro
def pomodoro_technique(request):
    """Представление для страницы обучения методу Pomodoro"""

    context = {
        'title': 'Метод Pomodoro',

        # 'steps' - список шагов метода Pomodoro
        'steps': [
            {
                # Номер шага для отображения
                'step': 1,
                'title': 'Планирование',
                'description': 'Определите задачи на день и приоритезируйте их',

                # Рекомендуемая длительность этапа
                'duration': '5-10 минут'
            },
            {
                'step': 2,
                'title': 'Установка таймера',
                'description': 'Установите таймер на 25 минут - это один "помидор"',
                'duration': '1 минута'
            },
            {
                'step': 3,
                'title': 'Работа без отвлечений',
                'description': 'Работайте над задачей, пока таймер не прозвенит',

                # Стандартная длительность Pomodoro сессии
                'duration': '25 минут'
            },
            {
                'step': 4,
                'title': 'Короткий перерыв',
                'description': 'Сделайте перерыв на 5 минут. Отойдите от компьютера.',

                # Стандартная длительность короткого перерыва
                'duration': '5 минут'
            },
            {
                'step': 5,
                'title': 'Повторение циклов',
                'description': 'После 4 "помидоров" сделайте длинный перерыв 15-30 минут',

                # Диапазон для длинного перерыва
                'duration': '15-30 минут'
            }
        ],

        # 'benefits' - список преимуществ метода Pomodoro
        'benefits': [
            'Повышение концентрации внимания',
            'Снижение прокрастинации',
            'Лучшее понимание времени',
            'Предотвращение выгорания',
            'Улучшение качества работы'
        ]
    }

    # Возвращаем страницу обучения методу Pomodoro
    return render(request, 'core/pomodoro_technique.html', context)